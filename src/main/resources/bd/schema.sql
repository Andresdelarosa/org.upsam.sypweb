create table AUTHORITIES (authority varchar(255), userName varchar(255) not null, primary key (userName));
create table AulaAbierta (id  bigserial not null, fin date, inicio date, maxPlazas int4, curso_id int4, primary key (id));
create table Citacion (id  bigserial not null, acudio bool, cita date not null, hora varchar(6) not null, mujer_id int8 not null, servicio_id int4 not null, primary key (id));
create table DocumentoAdjunto (id  bigserial not null, descripcion varchar(255), documento BYTEA, tipo varchar(35) not null, ficha_id int8, primary key (id));
create table Domicilio (id  bigserial not null, escalera varchar(255), letra char(1), nombreAvenida varchar(255), numero int4, piso int4, poblacion varchar(255), provincia_id int4, tipoDireccion_id int4, primary key (id));
create table Ficha (id  bigserial not null, apertura date, cerrada bool, cierre date, descripcion varchar(255), mujer_id int8, servicio_id int4, primary key (id));
create table Horario (id  serial not null, diaSemana int4, hora varchar(6), servicioId int4, servicio_id int4, primary key (id));
create table Mujer (id  bigserial not null, empadronada bool, fechaAlta timestamp, fechaNac timestamp, apellido1 varchar(30) not null, apellido2 varchar(30) not null, dni varchar(9) not null, email varchar(50) not null, nombre varchar(60) not null, telfFijo varchar(10), telfMovil varchar(10), domicilio_id int8 unique, primary key (id));
create table Mujer_AulaAbierta (personas_id int8 not null, talleres_id int8 not null);
create table Provincia (id  serial not null, codigo varchar(2) not null unique, nombre varchar(30) not null unique, primary key (id));
create table Seguimiento (id  bigserial not null, fecha date, observaciones varchar(255), ficha_id int8, primary key (id));
create table Servicio (id  serial not null, codigo varchar(100) not null unique, descripcion varchar(100) not null, responsable_userName varchar(255) not null, primary key (id), unique (responsable_userName));
create table Taller (id  serial not null, codigo varchar(50) not null unique, taller varchar(100) not null unique, primary key (id));
create table TipoDireccion (id  serial not null, tipo varchar(50) not null unique, primary key (id));
create table USERS (userName varchar(255) not null, enabled bool, password varchar(255), primary key (userName));
alter table AUTHORITIES add constraint FKAB62A701A1AE836A foreign key (userName) references USERS;
alter table AulaAbierta add constraint FK787A2B39F27F9FA3 foreign key (curso_id) references Taller;
alter table Citacion add constraint FKADD4B4B82FCEB561 foreign key (mujer_id) references Mujer;
alter table Citacion add constraint FKADD4B4B838D77098 foreign key (servicio_id) references Servicio;
alter table DocumentoAdjunto add constraint FK90C07EC7F26C7EAB foreign key (ficha_id) references Ficha;
alter table Domicilio add constraint FKABA87945AEAC6718 foreign key (provincia_id) references Provincia;
alter table Domicilio add constraint FKABA879456D1D3198 foreign key (tipoDireccion_id) references TipoDireccion;
alter table Ficha add constraint FK40BA8D92FCEB561 foreign key (mujer_id) references Mujer;
alter table Ficha add constraint FK40BA8D938D77098 foreign key (servicio_id) references Servicio;
alter table Horario add constraint FKA49EDFC238D77098 foreign key (servicio_id) references Servicio;
alter table Mujer add constraint FK473DBCF100EEC18 foreign key (domicilio_id) references Domicilio;
alter table Mujer_AulaAbierta add constraint FK35DC26C9F3CD1C09 foreign key (personas_id) references Mujer;
alter table Mujer_AulaAbierta add constraint FK35DC26C94966F8C0 foreign key (talleres_id) references AulaAbierta;
alter table Seguimiento add constraint FK3AF78349F26C7EAB foreign key (ficha_id) references Ficha;
alter table Servicio add constraint FK560F74F6ED7BAE8B foreign key (responsable_userName) references USERS;